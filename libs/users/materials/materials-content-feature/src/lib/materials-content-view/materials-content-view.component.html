<mat-progress-bar *ngIf="loadedProgress" mode="indeterminate"></mat-progress-bar>
<div class="viewMaterial">
  <h3 style="text-align: center">Просмотр материала: {{ data.material.title }}</h3>
  <ng-container *ngIf="data.material.material_link.endsWith('.pdf')">
    <pdf-viewer
      (on-progress)="onProgress($event)"
      [page]="2"
      [src]="materialLink"
      [render-text]="true"
      [original-size]="false"
      style="width: 400px; height: 600px"
    ></pdf-viewer>
  </ng-container>
  <ng-container *ngIf="data.material.material_link.endsWith('.mp3')">
    <div class="audio">
      <audio controls (canplay)="onAudioLoaded()">
        <source [src]="data.material.material_link" type="audio/mp3" />
      </audio>
    </div>
  </ng-container>
  <ng-container *ngIf="!data.material.material_link.endsWith('.pdf') && !data.material.material_link.endsWith('.mp3')">
    <lib-youtube-player
      *ngIf="getVideoId()"
      [videoId]="getVideoId()"
      (readyStateChange)="onVideoLoaded($event)"
    ></lib-youtube-player>
  </ng-container>
</div>
