<ng-container *ngIf="vm.isMyProfile; else userProfile">
  <div class="user-info">
    <div class="user-photo" (click)="fileInput.click()">
      <img [src]="vm.user.photo ? vm.user.photo.url : 'assets/img/1.png'" alt="" class="user-photo-img">
      <div class="change-photo-overlay">
        <span class="change-photo-text">Сменить фото</span>
      </div>
    </div>
    <input type="file" #fileInput style="display: none;" (change)="handleFileInput($event)">
    <div class="name">{{vm.user.name}}</div>
    <div class="email">{{vm.user.email}}</div>
    <div class="city">{{vm.user.city}}</div>
    <button mat-button class="navbar-btn" (click)="onOpenChangePassword()">
      <mat-icon>lock-reset</mat-icon><span class="button-label">Сменить пароль</span>
    </button>
      <mat-spinner *ngIf="vm.githubStatus === 'loading'" diameter="24"></mat-spinner>
      <ng-container *ngIf="vm.githubStatus !== 'loading'">
          <div *ngIf="vm.githubUserName as ghUserName; else connectGithub" class="github">
              <button mat-button class="navbar-btn" disabled>
                  <mat-icon svgIcon="github"></mat-icon>
                  <span>{{ ghUserName }}</span>
              </button>
              <button mat-button class="navbar-btn" (click)="onDisconnectGithub()">
                  <span class="button-label">Отвязать GitHub</span>
              </button>
          </div>
          <ng-template #connectGithub>
              <button mat-button class="navbar-btn" (click)="onConnectGithub()">
                  <mat-icon svgIcon="github">edit</mat-icon><span class="button-label">Привязать GitHub</span>
              </button>
          </ng-template>
      </ng-container>
  </div>
</ng-container>



<ng-template #userProfile>
  <users-detail
    [isAdmin]="vm.user.isAdmin">
  </users-detail>
</ng-template>
