<span mat-dialog-title>
  {{ 'PROFILE.PASSWORD_CHANGE.FILL_THE_FORM' | translate }}
</span>

<form mat-dialog-content #form="ngForm" [formGroup]="formGroup" (ngSubmit)="onFormSubmit()">
  <users-password-field
    appearance="outline"
    formControlName="oldPassword"
    [label]="'PROFILE.PASSWORD_CHANGE.OLD_PASSWORD' | translate"/>
  <users-password-field
    appearance="outline"
    formControlName="newPassword"
    #newPasswordField
    [label]="'PROFILE.PASSWORD_CHANGE.NEW_PASSWORD' | translate"/>
  <users-password-field
    appearance="outline"
    formControlName="confirmNewPassword"
    #confirmNewPasswordField
    [label]="'PROFILE.PASSWORD_CHANGE.CONFIRM_NEW_PASSWORD' | translate"/>

  <mat-error *ngIf="form.submitted && newPasswordField.value() !== confirmNewPasswordField.value()">
    {{'PROFILE.PASSWORD_CHANGE.DONT_MATCH' | translate }}
  </mat-error>

  <div mat-dialog-actions align="end">
    <button type="button" mat-button mat-dialog-close>
      {{ 'PROFILE.PASSWORD_CHANGE.CANSEL' | translate }}
    </button>
    <button
      mat-button
      type="submit"
      [disabled]="formGroup.invalid"
    >
      {{ 'PROFILE.PASSWORD_CHANGE.CHANGE' | translate }}
    </button>
  </div>
</form>
